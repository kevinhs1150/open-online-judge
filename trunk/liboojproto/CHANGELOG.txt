>> Open Online Judge Protocol Implementation Change Log <<

protocol 0 revision 6
ongoing
 + testsuite: Added several test programs used to debug protocol functions.
 Added a Windows batch to conviently compile testsuite programs.
     Usage:   compile.cmd <source file>
	 Example: compile.cmd filesend.c

 * common: Generally no affection.
 * internal: Fixed various bug, serious or non-serious.

2011.06.08 quick fix
 * testsuite: Changed server test program.
 * internal: tcp_getaddr() was not working.  Fixed.



protocol 0 revision 5
released 2011.06.05   by Infinity
 NOTE: Because deadline is near, specification document will no longer be
 updated.
 + common: All update "request" functions are now unified to the naming scheme
 "sync".  All update "operations" are remained "update".  Sorry for the
 frequent name change, but this one is necessary.  Otherwise, all update
 functions will be in a chaos.
 + clients: Timer & contest state sync functions.
 + admin&judge: Clarification sync function.
 + admin&team: Scoreboard sync function.
 + team: Run sync which updates runs submitted by that team.
 + judge: Problem sync callback added.
 + server: All above requests callback.

 * common: For all update functions, add a remove_byte to indicate a "delete"
 update.
 * common: Some other changes.  A function name mapping list will be published
 later.

2011.06.06 quick fix
 * common: Added problem name functionality.
 Affected functions:
  >> server <<
   serverproto_cbreg_problem_add()
   serverproto_cbreg_problem_add_dlfin()
   serverproto_cbreg_problem_mod()
   serverproto_cbreg_problem_mod_dlfin()
   serverproto_problem_change_add()
   serverproto_problem_change_mod()
   serverproto_problem_update()
  >> judge <<
   judgeproto_cbreg_problem_update()
   judgeproto_cbreg_problem_update_dlfin()
  >> admin <<
   adminproto_cbreg_problem_update()
   adminproto_cbreg_problem_update_dlfin()
   adminproto_problem_add()
   adminproto_problem_mod()
  >> team <<
   teamproto_cbreg_problem_add()
   teamproto_cbreg_problem_mod()



protocol 0 revision 4 (follow specification 0.4)
released on 2011.06.02   by Infinity
 + team: Added three callbacks for team client to be able to receive problem
 set modification from server.
 + server: Added three functions for server to be able to notify team about
 problem set modification.
 + admin&judge: Added one callback for these clients to receive clarification
 reply.  Team client is not affected.

 * team: Changed run_reply and clar_reply callbacks to send essential
 information.
 * server: Changed run_reply and clar_reply functions to send essential
 information.
 * internal: Generalized clarification functions for all clients.

2011.06.04 quick fix
 + server: Totally forgot about the problem_update function = =|||....  Added
 back now.

 * server&admin&judge: For all clarification requesting functions, they will
 now be notified the requester account.
 * server&admin&judge: For all problem information and management related
 functions, time limit can be specified now.
 * server&admin: problem_info function renamed into problem_update for code
 reuse.
 * server&admin: account_info function renamed into account_update for naming
 scheme consistency.
 * internal: Generalized problem_update functions for admin and judge.



protocol 0 revision 3 (follow specification 0.3)
released on 2011.05.28   by Infinity
 + common: Three callbacks are added for server and all clients.  This adds
 the functionality of timer/start/stop to the program.
 + server: Added one callback for programmer to implement password changing
 functionality for all clients.
 + server: Added two callbacks for judge to be able to request run update and
 take run.
 + server&admin: Added three functions respectively for them to set timer,
 start/stop contest.  Admin's set function will send the request to server,
 and server's set function will direct the request to all clients.
 + admin: Added one callback for admin client to receive scoreboard update.
 + judge: Added two callbacks, one for server to notify take result and one
 for server to request clarification.
 + judge: Added two functions, one for run taking and one for clar result.

 * common: Fixed a truck of bugs (serious and not serious ones).
 I won't list them as it  would make the change log messy.
 * common: Improved commenting on header file to help programmer program more
 easily.
 * common: Generalized scoreboard update for admin and team.
 * common: Generalized clarification result for admin and judge.
 * internal: Moved all common requests of client into a separate function in
 protointernal to improve code reusability.

 NOTE: Implementation of global broadcasting is postponed due to some
 definition glitches.



protocol 0 revision 2 (follow specification 0.2)
released on 2011.05.21   by Infinity and Fishy
 + common: Now able to test if a socket is listening. (Infinity)

 * judgeproto: Fixed a comment typo.
 * common: Changed some variables named "private" to "private_byte" to prevent
 C++ keywords problem. (Infinity)

 * makefile: Implement CMake auto makefile generation.  The old Makefile.win32
 and Makefile.linux are now deprecated. (Fishy)



protocol 0 revision 1 (follow specification 0.2)
released on 2011.05.19   by Infinity
 + protointernal: send_sp(), recv_sp(), shutdown_wr_sp() function.  All functions
 related to send(), recv() and close() will be affected.  Please help report bugs.
 + protointernal: filerecv(), filesend() function.

 * teamproto: Fixed a problem where team clients' were not able to register
 their login_confirm and logout_confirm callback functions.

 * judgeproto: Fixed a problem where judge clients' callback register functions
 were not defined.
 * judgeproto: Fixed a problem where judge clients do not receive message at all.

 + common: Added a notification callback to notify file download completion.
 This applies to all functions involving file receiving.
 * common: Login/logout confirmation code defined.  Refer to
 proto_commondefine.h for their defined names.  Do not use your own definition
 as it might break client-server communication.

 * makefile: Seperated Win32 and Linux into two makefiles and shortened the
 naming scheme.
 * sourcecode: Directory structure altered for easier file management.



protocol 0 revision 0 (follow specification 0.2)
released on 2011.04.23   by Infinity
 + Initial release version.